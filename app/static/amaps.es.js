/* eslint-disable */

function createCommonjsModule(e,o){return o={exports:{}},e(o,o.exports),o.exports}function err(e){throw e}function mergeConfig(e,o){return Object.assign({},e,o)}function parseBase(e){var o=mergeConfig(CONFIG.BASE_DEFAULTS,e.defaults);(!e.layers||e.layers.length<0)&&err("no basemap defined, please define a basemap in the configuration"),e.layers.forEach(function(e){e.name&&void 0===CONFIG.BASEMAP_PROVIDERS[e.name]||err("basemap names need to be defined and unique: "+e.name),CONFIG.BASEMAP_PROVIDERS[e.name]=formatBasemapUrl(mergeConfig(o,e))})}function parseWMS(e){var o=mergeConfig(CONFIG.WMS_DEFAULTS,e.defaults);e.layers&&e.layers.forEach(function(e){e.name&&void 0===CONFIG.WMS_PROVIDERS[e.name]||err("wms names need to be defined and unique: "+e.name),CONFIG.WMS_PROVIDERS[e.name]=applyTemplate(mergeConfig(o,e))})}function parseGeocoder(e){CONFIG.GEOCODER.lookupUrl=e.lookupUrl,CONFIG.GEOCODER.suggestUrl=e.suggestUrl}function parseMap(e){CONFIG.MAP=mergeConfig(CONFIG.MAP,e)}function formatBasemapUrl(e){switch(e.type){case"wmts":e.url=e.url+"/"+e.type+"/"+e.layerName+"/"+e.crs+"/{z}/{x}/{y}."+e.format;break;case"tms":e.url=e.url+"/"+e.layerName+"/{z}/{x}/{y}."+e.format;break;default:e.url=e.url+"/"+e.type+"/"+e.layerName+"/"+e.crs+"/{z}/{x}/{y}."+e.format}return e}function applyTemplate(e){var o=e.url.indexOf("{");if(o>-1){var t=e.url.indexOf("}");"workspacename"===e.url.slice(o+1,t).toLowerCase()?e.url=e.url.slice(0,o)+e.workSpaceName+e.url.slice(t+1,-1):err("only workspacename templates are supported for now")}return e}function parseFeatureQuery(e){CONFIG.FEATUREQUERYBASEURL=e}function parseClasses(e){CONFIG.CLASSNAMES=mergeConfig(CONFIG.CLASSNAMES,e)}function parseMarker(e){CONFIG.MARKER=e}function httpGetAsync(e){return new Promise(function(o,t){var r=new XMLHttpRequest;r.onreadystatechange=function(){4==r.readyState&&200==r.status&&o(JSON.parse(r.responseText))},r.open("GET",e,!0),r.send(null)})}function wktPointToGeoJson(e){if(!e.includes("POINT"))throw TypeError("Provided WKT geometry is not a point.");var o=e.split("(")[1].split(")")[0];return{type:"Point",coordinates:[parseFloat(o.split(" ")[0]),parseFloat(o.split(" ")[1])]}}function parseClasses$1(e,o){o.forEach(function(o){e.classList.add(o)})}function getMarker(){return CONFIG.MARKER}function getExtent(){return CONFIG.MAP.extent}function getProvider(e){if(e in CONFIG.BASEMAP_PROVIDERS){var o=CONFIG.BASEMAP_PROVIDERS[e];return o.deprecated&&console&&console.warn&&console.warn(e+" is a deprecated style; it will be redirected to its replacement. For performance improvements, please change your reference."),o}console.error("NL Maps error: You asked for a style which does not exist! Available styles: "+Object.keys(PROVIDERS).join(", "))}function getWmsProvider(e,o){var t=void 0;return e in CONFIG.WMS_PROVIDERS?(t=CONFIG.WMS_PROVIDERS[e]).deprecated&&console&&console.warn&&console.warn(e+" is a deprecated wms; it will be redirected to its replacement. For performance improvements, please change your reference."):(t=Object.assign({},CONFIG.WMS_DEFAULTS,o),console.log("NL Maps: You asked for a wms which does not exist! Available wmses: "+Object.keys(CONFIG.WMS_PROVIDERS).join(", ")+". Provide an options object to make your own WMS.")),t}function mapPointerStyle(e){e._container.classList.add("nlmaps-marker-cursor")}function extentLeafletFormat(){var e=getExtent(),o=L.latLng(e[0],e[1]),t=L.latLng(e[2],e[3]);return L.latLngBounds(o,t)}function markerLayer(e){if("undefined"!=typeof L&&"object"===("undefined"==typeof L?"undefined":_typeof(L))){var o=void 0,t=void 0;if(void 0===e){var r=getMapCenter(map);o=r.latitude,t=r.longitude}else o=e.latitude,t=e.longitude;return new L.marker([o,t],{alt:"marker",icon:new L.icon({iconUrl:getMarker().url,iconSize:getMarker().iconSize,iconAnchor:getMarker().iconAnchor})})}}function bgLayer(e){if("undefined"!=typeof L&&"object"===("undefined"==typeof L?"undefined":_typeof(L)))return L.nlmapsBgLayer(e)}function overlayLayer(e,o){if("undefined"!=typeof L&&"object"===("undefined"==typeof L?"undefined":_typeof(L)))return L.nlmapsOverlayLayer(e,o)}function geoLocatorControl(e){if("undefined"!=typeof L&&"object"===("undefined"==typeof L?"undefined":_typeof(L)))return L.geoLocatorControl(e)}function zoomTo(e,o){o.fitBounds(L.geoJSON(e).getBounds(),{maxZoom:18})}function geocoderControl(e,o){var t=geocoder.createControl(zoomTo,e,o);e.getContainer().parentElement.insertBefore(t,e.getContainer().parentElement[0])}function getMapCenter(e){var o=e.getCenter();return{latitude:o.lat,longitude:o.lng}}function bgLayer$1(){var e=getProvider(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"standaard");if(e.subdomains){var o=e.subdomains;e.url=e.url.replace("{s}","{"+o.slice(0,1)+"-"+o.slice(-1)+"}")}if("object"===("undefined"==typeof ol?"undefined":_typeof(ol)))return new ol.layer.Tile({source:new ol.source.XYZ({url:e.url,attributions:[new ol.Attribution({html:e.attribution})]})});throw"openlayers is not defined"}function markerLayer$1(e){var o=new ol.style.Style({image:new ol.style.Icon({anchor:[32,63],anchorXUnits:"pixels",anchorYUnits:"pixels",src:getMarker().url,scale:1})}),t=void 0,r=void 0;if(void 0===e){var n=getMapCenter$1(map);t=n.latitude,r=n.longitude}else t=e.latitude,r=e.longitude;var a=ol.proj.fromLonLat([r,t]),s=new ol.Feature({geometry:new ol.geom.Point(a),name:"marker"});s.setStyle(o);var i=new ol.source.Vector({features:[s]});return new ol.layer.Vector({source:i})}function overlayLayer$1(e,o){var t=getWmsProvider(e,o);if("object"===("undefined"==typeof ol?"undefined":_typeof(ol)))return new ol.layer.Tile({source:new ol.source.TileWMS({url:t.url,serverType:"geoserver",params:{LAYERS:t.layerName,VERSION:t.version,STYLES:t.styleName}})});throw"openlayers is not defined"}function geoLocatorControl$1(e,o){function t(e){var o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:o,t=o.getView().getZoom(),r=new ol.View({center:ol.proj.fromLonLat([e.coords.longitude,e.coords.latitude]),zoom:t});o.setView(r)}var r=document.createElement("div");return r.className="nlmaps-geolocator-control ol-control",r.addEventListener("click",function(){e.start()}),e.on("position",function(e){t(e,o)}),new ol.control.Control({element:r})}function zoomTo$1(e,o){var t=ol.proj.fromLonLat(e.coordinates);o.getView().setCenter(t),o.getView().setZoom(18)}function getMapCenter$1(e){var o=e.getView().getCenter(),t=ol.proj.toLonLat(o);return{longitude:t[0],latitude:t[1]}}function geocoderControl$1(e){var o=geocoder.createControl(zoomTo$1,e);o=new ol.control.Control({element:o}),e.addControl(o)}function AttributionControl(e,o){if("object"===("undefined"==typeof google?"undefined":_typeof(google))&&"object"===_typeof(google.maps)){var t=document.createElement("div");t.style.backgroundColor="#fff",t.style.opacity="0.7",t.style.border="2px solid #fff",t.style.cursor="pointer",e.appendChild(t);var r=document.createElement("div");return r.style.color="rgb(25,25,25)",r.style.fontFamily="Roboto,Arial,sans-serif",r.style.fontSize="10px",r.innerHTML=o,t.appendChild(r),e.index=1,e}throw"google is not defined"}function geoLocatorControl$2(e,o){var t=document.createElement("div");return t.id="nlmaps-geolocator-control",t.style.backgroundColor="#fff",t.style.cursor="pointer",t.style.boxShadow="0 1px 5px rgba(0, 0, 0, 0.65)",t.style.height="26px",t.style.width="26px",t.style.borderRadius="26px 26px",t.style.margin=".5em",t.addEventListener("click",function(){e.start()},this),e.on("position",function(e){o.setCenter({lat:e.coords.latitude,lng:e.coords.longitude})}),t}function zoomTo$2(e,o){o.setCenter({lat:e.coordinates[1],lng:e.coordinates[0]}),o.setZoom(18)}function indexOfMapControl(e,o){return e.getArray().indexOf(o)}function toggleAttrControl(e,o){var t=o.getMapTypeId(),r=o.controls[google.maps.ControlPosition.BOTTOM_RIGHT],n=indexOfMapControl(r,e);"roadmap"===t||"hybrid"===t||"sattelite"===t?n>-1&&r.removeAt(n):-1===n&&r.push(e)}function makeGoogleAttrControl(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e,o=arguments[1],t=new AttributionControl(document.createElement("div"),o);e.controls[google.maps.ControlPosition.BOTTOM_RIGHT].push(t),e.addListener("maptypeid_changed",function(){return toggleAttrControl(t,e)})}function makeGoogleLayerOpts(e){return{getTileUrl:function(o,t){return e.bare_url+"/"+t+"/"+o.x+"/"+o.y+".png"},tileSize:new google.maps.Size(256,256),isPng:!0,name:e.name,maxZoom:e.maxZoom,minZoom:e.minZoom}}function getWmsTiledOptions(e){return{baseUrl:e.url,layers:e.layers,styles:e.styles,format:e.format,transparent:e.transparent,opacity:.7}}function bgLayer$2(e){var o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"standaard";if("object"===("undefined"==typeof google?"undefined":_typeof(google))&&"object"===_typeof(google.maps)){var t=getProvider(o),r=makeGoogleLayerOpts(t),n=new google.maps.ImageMapType(r),a=e||this.map||"undefined";return void 0!==a&&makeGoogleAttrControl(a,t.attribution),n}throw"google is not defined"}function toMercator(e){var o=e.lat(),t=e.lng();if(!(Math.abs(t)>180||Math.abs(o)>90)){var r=.017453292519943295*o;return{x:6378137*(.017453292519943295*t),y:3189068.5*Math.log((1+Math.sin(r))/(1-Math.sin(r)))}}}function WMSTiled(e,o){var t={getTileUrl:function(t,r){var n=e.getProjection(),a=Math.pow(2,r),s=n.fromPointToLatLng(new google.maps.Point(256*t.x/a,256*t.y/a)),i=n.fromPointToLatLng(new google.maps.Point(256*(t.x+1)/a,256*(t.y+1)/a)),l=toMercator(s),c=toMercator(i),u=l.x+","+c.y+","+c.x+","+l.y,d=o.baseUrl;return d+="SERVICE=WMS&VERSION=1.1.1&REQUEST=GetMap&SRS=EPSG:3857",d+="&WIDTH=256",d+="&HEIGHT=256",d+="&LAYERS="+o.layers,d+="&STYLES="+o.styles,d+="&BBOX="+u,d+="&FORMAT="+o.format,d+="&TRANSPARENT="+o.transparent},tileSize:new google.maps.Size(256,256),isPng:!0},r=new google.maps.ImageMapType(t);return r.setOpacity(o.opacity),e.overlayMapTypes.push(r)}function overlayLayer$2(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e,o=new WMSTiled(e,getWmsTiledOptions(getWmsProvider(arguments[1],arguments[2])));return o.name="wms",o}function markerLayer$2(e){var o=void 0,t=void 0;if(void 0===e){var r=getMapCenter$2(map);o=r.latitude,t=r.longitude}else o=e.latitude,t=e.longitude;var n=new google.maps.LatLng(o,t);return new google.maps.Marker({title:"marker",position:n,icon:getMarker().url})}function getMapCenter$2(e){return{latitude:e.getCenter().lat(),longitude:e.getCenter().lng()}}function geocoderControl$2(e){var o=geocoder.createControl(zoomTo$2,e);e.getDiv().appendChild(o)}function positionHandler(e){this.emit("position",e)}function positionErrorHandler(e){this.emit("error",e)}function geoLocator(e){var o="undefined"!=typeof window?window.navigator||{}:{};if(void 0!==o&&"geolocation"in o){var t=emitonoff$1(GeoLocator(e));return t.on("position",function(){this.stop()}),t}throw"geolocation is not available in your browser."}function query(e){return new Promise(function(o,t){fetch(e).then(function(e){return o(e.json())}).catch(function(e){return t(e)})})}function createAndAddMarker(e,o,t){var r=L.marker([o.latlng.lat,o.latlng.lng],{alt:"marker",icon:new L.icon({iconUrl:getMarker().url,iconSize:getMarker().iconSize,iconAnchor:getMarker().iconAnchor})});if(r.addTo(e),t){var n=t.call(markerStore,o,r),a=L.popup({offset:[0,-50]}).setContent(n);r.bindPopup(a).openPopup(),markerStore.addMarker(r)}else markerStore.addMarker(r,!0)}function singleMarker(e,o){return mapPointerStyle(e),function(t,r){1===t&&(markerStore.markers[0]&&markerStore.removeMarker(markerStore.markers[0]),createAndAddMarker(e,r,o))}}function multiMarker(e,o){return mapPointerStyle(e),function(t,r){1===t&&createAndAddMarker(e,r,o)}}function testWhichLib(){var e=[];return"object"===("undefined"==typeof L?"undefined":_typeof(L))&&e.push("leaflet"),"object"===("undefined"==typeof google?"undefined":_typeof(google))&&"object"===_typeof(google.maps)&&e.push("googlemaps"),"object"===("undefined"==typeof ol?"undefined":_typeof(ol))&&e.push("openlayers"),e.length>1?"too many libs":0===e.length?"too few libs":e[0]}function initMap(e,o){var t=void 0,r=void 0,n=void 0,a=void 0;switch(e){case"leaflet":(r=document.getElementById(o.target)).style.position="relative",r.style.padding="0px",r.style.margin="0px",a={},o.attribution||(a.attributionControl=!1),(n=L.DomUtil.create("div")).style.height="100%",r.appendChild(n),a.maxBounds=extentLeafletFormat(),t=L.map(n,a).setView([o.center.latitude,o.center.longitude],o.zoom),o.attribution&&t.attributionControl.setPrefix(!1),t.zoomControl.setPosition(CONFIG.MAP.zoomposition);break;case"googlemaps":t=new google.maps.Map(document.getElementById(o.target),{center:{lat:o.center.latitude,lng:o.center.longitude},zoom:o.zoom,zoomControl:!0,zoomControlOptions:{position:google.maps.ControlPosition.LEFT_BOTTOM},fullscreenControl:!1});break;case"openlayers":(t=new ol.Map({view:new ol.View({center:ol.proj.fromLonLat([o.center.longitude,o.center.latitude]),zoom:o.zoom}),target:n})).getTargetElement().getElementsByClassName("ol-zoom")[0].style.cssText="left: 5px !important; bottom: 5px !important",t.getTargetElement().getElementsByClassName("ol-zoom")[0].classList.remove("ol-zoom")}return t}function addGoogleLayer(e,o){if("marker"===e.title)return void e.setMap(o);var t=[e.name,"roadmap"];if("wms"===e.name)return void o.setOptions({mapTypeControl:!0,mapTypeControlOptions:{mapTypeIds:t,position:google.maps.ControlPosition.BOTTOM_LEFT}});o.setOptions({mapTypeControl:!0,mapTypeControlOptions:{mapTypeIds:t,position:google.maps.ControlPosition.BOTTOM_LEFT}}),o.mapTypes.set(e.name,e),o.setMapTypeId(e.name)}function addLayerToMap(e,o,t){switch(e){case"leaflet":t.addLayer(o);break;case"googlemaps":addGoogleLayer(o,t);break;case"openlayers":t.addLayer(o)}}function createBackgroundLayer(e,o,t){var r=void 0;switch(e){case"leaflet":r=nlmaps.leaflet.bgLayer(t);break;case"googlemaps":r=nlmaps.googlemaps.bgLayer(o,t);break;case"openlayers":r=nlmaps.openlayers.bgLayer(t)}return r}function createOverlayLayer(e,o,t){var r=void 0;switch(e){case"leaflet":r=nlmaps.leaflet.overlayLayer(t);break;case"googlemaps":r=nlmaps.googlemaps.overlayLayer(o,t);break;case"openlayers":r=nlmaps.openlayers.overlayLayer(t)}return r}function createMarkerLayer(e,o,t){var r=void 0;switch(e){case"leaflet":r=nlmaps.leaflet.markerLayer(t);break;case"googlemaps":r=nlmaps.googlemaps.markerLayer(t);break;case"openlayers":r=nlmaps.openlayers.markerLayer(t)}return r}function getMapCenter$3(e,o){var t=void 0;switch(e){case"leaflet":t=getMapCenter(o);break;case"googlemaps":t=getMapCenter$2(o);break;case"openlayers":t=getMapCenter$1(o)}return t}function mergeOpts(e,o){return Object.assign({},e,o)}function addGeoLocControlToMap(e,o,t){var r=void 0;switch(e){case"leaflet":nlmaps[e].geoLocatorControl(o).addTo(t);break;case"googlemaps":r=nlmaps[e].geoLocatorControl(o,t),t.controls[google.maps.ControlPosition.TOP_RIGHT].push(r);break;case"openlayers":r=nlmaps[e].geoLocatorControl(o,t),t.addControl(r)}}function addGeocoderControlToMap(e,o){nlmaps[e].geocoderControl(o,nlmaps)}var emitonoff=createCommonjsModule(function(e){e.exports=function(e){return e||(e={}),e._subs=[],e._paused=!1,e._pending=[],e.on=function(o,t){e._subs[o]=e._subs[o]||[],e._subs[o].push(t)},e.off=function(o,t){if(e._subs[o])for(var r in e._subs[o])if(e._subs[o][r]===t){e._subs[o].splice(r);break}},e.emit=function(o){if(e._subs[o]){var t=Array.prototype.slice.call(arguments,1);if(e._paused)return e._pending[o]=e._pending[o]||[],void e._pending[o].push(t);for(var r in e._subs[o])e._subs[o][r].apply(e,t)}},e.pause=function(){e._paused=!0},e.resume=function(){e._paused=!1;for(var o in e._pending)for(var t=0;t<e._pending[o].length;t++)e.emit(o,e._pending[o][t])},e}}),config={version:.2,basemaps:{defaults:{attribution:"Kaartgegevens CC-BY-4.0 Gemeente Amsterdam",minZoom:12,maxZoom:21,type:"tms",format:"png",url:"https://t1.data.amsterdam.nl"},layers:[{name:"standaard",layerName:"topo_wm"},{name:"zwartwit",layerName:"topo_wm_zw"},{name:"licht",layerName:"topo_wm_light"},{name:"donker",layerName:"topo_wm"}]},wms:{defaults:{url:"https://map.data.amsterdam.nl/maps",version:"1.1.0",transparent:!0,format:"image/png",minZoom:0,maxZoom:24,styleName:""},layers:[{name:"tram",layerName:"trm",url:"https://map.data.amsterdam.nl/maps/trm?"}]},geocoder:{suggestUrl:"https://geodata.nationaalgeoregister.nl/locatieserver/v3/suggest?fq=gemeentenaam:amsterdam&",lookupUrl:"https://geodata.nationaalgeoregister.nl/locatieserver/v3/lookup?fq=gemeentenaam:amsterdam&"},featureQuery:{baseUrl:"https://api.data.amsterdam.nl/bag/nummeraanduiding/?format=json&locatie="},marker:{url:"./dist/images/svg/marker.svg",iconSize:[40,40],iconAnchor:[20,39]},map:{style:"standaard",center:{latitude:52.37,longitude:4.8952},zoom:14,attribution:!0,extent:[52.25168,4.64034,52.50536,5.10737],zoomposition:"bottomright"},classnames:{geocoderContainer:["embed-search"],geocoderSearch:["invoer"],geocoderButton:["primary","action","embed-search__button"],geocoderResultList:["embed-search__auto-suggest"],geocoderResultItem:["embed-search__auto-suggest__item"],geocoderResultSelected:["embed-search__auto-suggest__item--active"]}},CONFIG={};CONFIG.BASE_DEFAULTS={crs:"EPSG:3857",attr:"",minZoom:0,maxZoom:19,type:"wmts",format:"png",url:""},CONFIG.WMS_DEFAULTS={url:"",version:"1.1.1",transparent:!0,format:"image/png",minZoom:0,maxZoom:24,styleName:""},CONFIG.BASEMAP_PROVIDERS={},CONFIG.WMS_PROVIDERS={},CONFIG.GEOCODER={},CONFIG.MAP={zoomposition:"bottomleft"},CONFIG.MARKER={},CONFIG.CLASSNAMES={geocoderContainer:["nlmaps-geocoder-control-container"],geocoderSearch:["nlmaps-geocoder-control-search"],geocoderButton:["nlmaps-geocoder-control-button"],geocoderResultList:["nlmaps-geocoder-result-list"],geocoderResultItem:["nlmaps-geocoder-result-item"]},.2!==config.version&&err("unsupported config version"),void 0!==config.featureQuery&&parseFeatureQuery(config.featureQuery.baseUrl),void 0!==config.map&&parseMap(config.map),parseBase(config.basemaps),void 0!==config.wms&&parseWMS(config.wms),void 0!==config.geocoder&&parseGeocoder(config.geocoder),void 0!==config.marker&&parseMarker(config.marker),void 0!==config.classnames&&parseClasses(config.classnames);var geocoder=CONFIG.GEOCODER;geocoder.resultList=[],geocoder.selectedResult=-1,geocoder.doSuggestRequest=function(e){return httpGetAsync(this.suggestUrl+"q="+encodeURIComponent(e))},geocoder.doLookupRequest=function(e){return httpGetAsync(this.lookupUrl+"id="+encodeURIComponent(e)).then(function(e){var o=e.response.docs[0];return o.centroide_ll=wktPointToGeoJson(o.centroide_ll),o.centroide_rd=wktPointToGeoJson(o.centroide_rd),o})},geocoder.createControl=function(e,o,t){var r=this;this.zoomTo=e,this.map=o,this.nlmaps=t;var n=document.createElement("div"),a=document.createElement("form"),s=document.createElement("input"),i=document.createElement("button"),l=document.createElement("div");return parseClasses$1(n,CONFIG.CLASSNAMES.geocoderContainer),parseClasses$1(a,CONFIG.CLASSNAMES.geocoderSearch),n.addEventListener("click",function(e){return e.stopPropagation()}),n.addEventListener("dblclick",function(e){return e.stopPropagation()}),s.id="nlmaps-geocoder-control-input",s.placeholder="Zoomen naar adres...",s.setAttribute("aria-label","Zoomen naar adres"),s.setAttribute("type","text"),s.setAttribute("autocapitalize","off"),s.setAttribute("autocomplete","off"),s.setAttribute("autocorrect","off"),s.setAttribute("spellcheck","false"),s.addEventListener("keydown",function(e){var o=r.resultList;r.resultList.length>0&&("ArrowDown"!==e.code&&40!==e.keyCode||(r.selectedResult<r.resultList.length-1&&r.selectedResult++,r.showLookupResult(o[r.selectedResult])),"ArrowUp"!==e.code&&38!==e.keyCode||(r.selectedResult>0&&r.selectedResult--,r.showLookupResult(o[r.selectedResult])),"Escape"===e.code&&r.clearSuggestResults(!0))}),s.addEventListener("input",function(e){r.suggest(e.target.value)}),s.addEventListener("focus",function(e){r.suggest(e.target.value)}),i.setAttribute("type","submit"),a.addEventListener("submit",function(e){e.preventDefault(),r.resultList.length>0&&r.lookup(r.resultList[r.selectedResult<0?0:r.selectedResult].id)}),i.setAttribute("aria-label","Zoomen naar adres"),parseClasses$1(i,CONFIG.CLASSNAMES.geocoderButton),l.id="nlmaps-geocoder-control-results",parseClasses$1(l,CONFIG.CLASSNAMES.geocoderResultList),l.classList.add("nlmaps-hidden"),n.appendChild(a),a.appendChild(s),a.appendChild(i),n.appendChild(l),n},geocoder.suggest=function(e){var o=this;if(e.length<3)return void this.clearSuggestResults();this.doSuggestRequest(e).then(function(e){o.resultList=e.response.docs,o.showSuggestResults(o.resultList)})},geocoder.lookup=function(e){var o=this;this.doLookupRequest(e).then(function(e){o.zoomTo(e.centroide_ll,o.map),o.nlmaps.emit("search-select",{location:e.weergavenaam,latlng:e.centroide_ll}),o.showLookupResult(e),o.clearSuggestResults()})},geocoder.clearSuggestResults=function(e){this.selectedResult=-1,e&&(document.getElementById("nlmaps-geocoder-control-input").value=""),document.getElementById("nlmaps-geocoder-control-results").innerHTML="",document.getElementById("nlmaps-geocoder-control-results").classList.add("nlmaps-hidden")},geocoder.showLookupResult=function(e){var o=document.getElementsByClassName(CONFIG.CLASSNAMES.geocoderResultItem);Array.prototype.map.call(o,function(e){return e.classList.remove(CONFIG.CLASSNAMES.geocoderResultSelected)});var t=document.getElementById(e.id);t&&t.classList.add(CONFIG.CLASSNAMES.geocoderResultSelected),document.getElementById("nlmaps-geocoder-control-input").value=e.weergavenaam},geocoder.showSuggestResults=function(e){var o=this;if(this.clearSuggestResults(),e.length>0){var t=document.createElement("ul");e.forEach(function(e){var r=document.createElement("li"),n=document.createElement("a");n.innerHTML=e.weergavenaam,n.id=e.id,parseClasses$1(n,CONFIG.CLASSNAMES.geocoderResultItem),n.setAttribute("href","#"),n.addEventListener("click",function(e){e.preventDefault(),o.lookup(e.target.id)}),r.appendChild(n),t.appendChild(r)}),document.getElementById("nlmaps-geocoder-control-results").classList.remove("nlmaps-hidden"),document.getElementById("nlmaps-geocoder-control-results").appendChild(t)}};var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};"undefined"!=typeof L&&"object"===("undefined"==typeof L?"undefined":_typeof(L))&&(L.NlmapsBgLayer=L.TileLayer.extend({initialize:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"standaard",o=arguments[1],t=getProvider(e),r=L.Util.extend({},o,{minZoom:t.minZoom,maxZoom:t.maxZoom,scheme:"xyz",attribution:t.attribution,subdomains:t.subdomains?t.subdomains:"abc",sa_id:e});L.TileLayer.prototype.initialize.call(this,t.url,r)}}),L.nlmapsBgLayer=function(e,o){return new L.NlmapsBgLayer(e,o)},L.NlmapsOverlayLayer=L.TileLayer.WMS.extend({initialize:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",o=arguments[1],t=getWmsProvider(e,o),r=t.url;delete t.url;var n=L.Util.extend({},o,{layers:t.layerName,maxZoom:24,minZoom:1,styles:t.styleName,version:t.version,transparent:t.transparent,format:t.format});L.TileLayer.WMS.prototype.initialize.call(this,r,n)}}),L.nlmapsOverlayLayer=function(e,o){return new L.NlmapsOverlayLayer(e,o)},L.Control.GeoLocatorControl=L.Control.extend({options:{position:"topright"},initialize:function(e){for(var o in e)"object"===_typeof(this.options[o])?L.extend(this.options[o],e[o]):this.options[o]=e[o]},onAdd:function(e){function o(o){e.panTo([o.coords.latitude,o.coords.longitude])}var t=L.DomUtil.create("div");t.id="nlmaps-geolocator-control",t.className="nlmaps-geolocator-control";var r=document.createElement("img");return t.append(r),this.options.geolocator.isStarted()&&L.DomUtil.addClass(t,"started"),L.DomEvent.on(t,"click",function(){this.options.geolocator.start(),L.DomUtil.addClass(t,"started")},this),this.options.geolocator.on("position",function(e){L.DomUtil.removeClass(t,"started"),L.DomUtil.addClass(t,"has-position"),o(e)}),t},onRemove:function(e){return e}}),L.geoLocatorControl=function(e){return new L.Control.GeoLocatorControl({geolocator:e})});var emitonoff$1=createCommonjsModule(function(e){e.exports=function(e){return e||(e={}),e._subs=[],e._paused=!1,e._pending=[],e.on=function(o,t){e._subs[o]=e._subs[o]||[],e._subs[o].push(t)},e.off=function(o,t){if(e._subs[o])for(var r in e._subs[o])if(e._subs[o][r]===t){e._subs[o].splice(r);break}},e.emit=function(o){if(e._subs[o]){var t=Array.prototype.slice.call(arguments,1);if(e._paused)return e._pending[o]=e._pending[o]||[],void e._pending[o].push(t);for(var r in e._subs[o])e._subs[o][r].apply(e,t)}},e.pause=function(){e._paused=!0},e.resume=function(){e._paused=!1;for(var o in e._pending)for(var t=0;t<e._pending[o].length;t++)e.emit(o,e._pending[o][t])},e}}),geoLocateDefaultOpts={follow:!1},GeoLocator=function(e){var o=Object.assign({},geoLocateDefaultOpts,e);return{start:function(){return o.started=!0,navigator.geolocation.getCurrentPosition(positionHandler.bind(this),positionErrorHandler.bind(this),{maximumAge:6e4}),this},stop:function(){return o.started=!1,this},isStarted:function(){return o.started},log:function(){return console.log(o),this}}},pointToQuery=function(e,o,t){return function(r){return function(n,a){0===n&&r(0,function(r,n){1===r?query(o(e,{x:n.latlng.lng,y:n.latlng.lat})).then(function(e){var o={queryResult:t(e),latlng:n.latlng};a(1,o)}):a(r,n)})}}},queryFeatures=function(e,o,t,r){var n=pointToQuery(o,t,r)(e);return n.subscribe=function(e){n(0,e)},n},markerStore={markers:[],removeMarker:function(e){var o=markerStore.markers.findIndex(function(o){return o===e});markerStore.markers[o].remove(),markerStore.markers.splice(o,1)},addMarker:function(e){var o=arguments.length>1&&void 0!==arguments[1]&&arguments[1];markerStore.markers.push(e),o&&e.on("click",function(){markerStore.removeMarker(e)})}},nlmaps={leaflet:{bgLayer:bgLayer,overlayLayer:overlayLayer,markerLayer:markerLayer,geocoderControl:geocoderControl,geoLocatorControl:geoLocatorControl},openlayers:{bgLayer:bgLayer$1,overlayLayer:overlayLayer$1,markerLayer:markerLayer$1,geocoderControl:geocoderControl$1,geoLocatorControl:geoLocatorControl$1},googlemaps:{bgLayer:bgLayer$2,overlayLayer:overlayLayer$2,markerLayer:markerLayer$2,geoLocatorControl:geoLocatorControl$2,geocoderControl:geocoderControl$2}};emitonoff(nlmaps);var geoLocateDefaultOpts$1={};nlmaps.lib=testWhichLib(),nlmaps.createMap=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},o=mergeOpts(CONFIG.MAP,e);try{if("too many libs"==nlmaps.lib||"too few libs"===nlmaps.lib)throw{message:"one and only one map library can be defined. Please Refer to the documentation to see which map libraries are supported."}}catch(e){console.error(e.message)}var t=initMap(nlmaps.lib,o),r=createBackgroundLayer(nlmaps.lib,t,o.style);if(addLayerToMap(nlmaps.lib,r,t,o.style),o.search&&addGeocoderControlToMap(nlmaps.lib,t),o.marker){var n=o.marker;"boolean"==typeof o.marker&&(n=getMapCenter$3(nlmaps.lib,t));var a=createMarkerLayer(nlmaps.lib,t,n);markerStore.addMarker(a,!0),addLayerToMap(nlmaps.lib,a,t)}if(o.overlay&&"false"!==o.overlay){var s=createOverlayLayer(nlmaps.lib,t,o.overlay);addLayerToMap(nlmaps.lib,s,t)}return void 0!==t&&t.on("click",function(e){nlmaps.emit("mapclick",e)}),t},nlmaps.geoLocate=function(e){var o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},t=geoLocator(mergeOpts(geoLocateDefaultOpts$1,o));addGeoLocControlToMap(nlmaps.lib,t,e)},nlmaps.clickProvider=function(e){mapPointerStyle(e);var o=function(o,t){0===o&&(e.on("click",function(e){t(1,e)}),t(0,function(e,o){}))};return o.subscribe=function(e){o(0,e)},o},nlmaps.queryFeatures=queryFeatures,nlmaps.singleMarker=singleMarker,nlmaps.multiMarker=multiMarker;export default nlmaps;
