# Additional questions

## Question properties

| Property       | Description                                                                                              |
| -------------- | -------------------------------------------------------------------------------------------------------- |
| **Key**        | This doesn't do anything, just give it a name.                                                           |
| **Field type** | The type of form field for the visitor to anser the question with. Detailed below.                       |
| **Meta**       | This gives extra control over more specified properties. Detailed below.                                 |
| **Required**   | The visitor is required to answer the question when this is checked. Otherwise the question is optional. |

## Field type

Possible field types.

| Field type        | Description                                                                                                                                                                                                          |
| ----------------- | -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| **PlainText**     | This is not really a question to answer. It simply shows some information to the visitor.                                                                                                                            |
| **TextInput**     | A text field for one line of text.                                                                                                                                                                                   |
| **CheckboxInput** | Could be either of the following. A _single_ checkbox to allow the visitor to check or uncheck a specific option. A _list_ of checkboxes to allow the visitor to choose multiple values from a fixed set of options. |
| **MapSelect**     | Shows assets on a map and allows the visitor to select some assets. _Deprecated_ (see the newer `AssetSelect` below)                                                                                                 |
| **AssetSelect**   | Shows assets on a map and allows the visitor to select some assets.                                                                                                                                                  |
| **RadioInput**    | Radio boxes to allow the visitor to choose one value from a fixed set of options.                                                                                                                                    |
| **SelectInput**   | Dropdown box to allow the visitor to choose one value from a fixed set of options.                                                                                                                                   |
| **TextareaInput** | A bigger text field for multiple lines of text.                                                                                                                                                                      |

## Meta

This defines a set of properties written in [JSON](https://developer.mozilla.org/en-US/docs/Learn/JavaScript/Objects/JSON).

Possible properties are listed below. The 'Field types' column lists the possible field types the property can be used for, in case the property is not possible for all field types.

| Property           | Description                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      | Field types                                   |
| ------------------ | -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | --------------------------------------------- |
| **label**          | The label acompanying the input field, proposing the question.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   |
| **subtitle**       | Extra information needed to explain the question (e.g. possible values, or how to find what is being asked for).                                                                                                                                                                                                                                                                                                                                                                                                                                                                 | All except PlainText                          |
| **shortLabel**     | A short label to indicate the meaning of the answer. This is shown next to the answer in the back-office.                                                                                                                                                                                                                                                                                                                                                                                                                                                                        | All except PlainText                          |
| **placeholder**    | An example answer to help the visitor determine how to answer the question and how to write down that answer.                                                                                                                                                                                                                                                                                                                                                                                                                                                                    | TextInput, TextareaInput                      |
| **type**           | Allows to specify more specifically the type of message or form field. Detailed below.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           | PlainText, TextInput                          |
| **autoRemove**     | Automatically removes the specified value from the answer.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       | TextInput, TextareaInput                      |
| **value**          | The text to display to the visitor. For `PlainText` you can use [markdown](https://commonmark.org/help/) ([try it out](https://remarkjs.github.io/react-markdown/)). HTML will be escaped and links will open in a new window.                                                                                                                                                                                                                                                                                                                                                   | PlainText, CheckboxInput (single)             |
| **values**         | The possible options in key-value pairs.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         | CheckboxInput (list), RadioInput, SelectInput |
| **maxLength**      | Displays, underneath the text area, the amount of characters typed into the text area versus the total amount of characters allowed (as specified with this property).                                                                                                                                                                                                                                                                                                                                                                                                           | TextareaInput                                 |
| **idField**        | The name of the property field of an asset that shows the ID/number.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             | MapSelect                                     |
| **endpoint**       | The URL from which the assets can be retrieved to show on the map. Use `{{srsName}}` and `{{bboxLatLng}}` or `{{bboxLngLat}}` to get these values inserted in the URL. (e.g.: `https://geoserver.test/?service=WFS&version=1.1.0&request=GetFeature&srsName={{srsName}}&bbox={{bboxLatLng}},{{srsName}}`)                                                                                                                                                                                                                                                                        | MapSelect                                     |
| **selectionLabel** | Label specifying the specific assets selected, shown below the map.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              | MapSelect                                     |
| **ifOneOf**        | Conditionally shows this field if one of the specified conditions is met. Specify an object with key-value pairs for field names and values respectively. You can specify one value, or an array of values for a field. When one of the specified fields has one of it's values set, this field will be displayed. E.g.: `{"animal": ["cow", "chicken"], "severity": "high"}`. In this example, the field will be shown if _either_ for the field 'animal' the value 'cow', or 'chicken' has been selected, _or_ if for the field 'severity' the value 'high' has been selected. |

### Type

The type attribute on the meta value is possible on a few input types, specifying more specifically how to display the form field, or how it should behave. Possibilities are listed below.

| Field type    | Description                                                                                                                                                                  |
| ------------- | ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| **PlainText** | Possible values: `citation`, `caution`, `alert`.                                                                                                                             |
| **TextInput** | [MDN](https://developer.mozilla.org) lists [all possible input types](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/input) in the table under '\<input\> types'. |

### AssetSelect

The `meta` properties specifically for the `AssetSelect` field type are detailed below.

| Property                               | Description                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    | Default vaule                                                          |
| -------------------------------------- | ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | ---------------------------------------------------------------------- |
| **endpoint**                           | The URL from which the assets can be retrieved to show on the map. Use `{srsName}` and `{north}`, `{east}`, `{south}`, and `{west}` for the corners of the bounding box, to get these values inserted in the URL. (e.g.: `https://api.data.amsterdam.nl/v1/wfs/huishoudelijkafval/?SERVICE=WFS&REQUEST=GetFeature&VERSION=2.0.0&TYPENAMES=app:container&COUNT=1000&SRSNAME={srsName}&outputFormat=application/json&Filter=<Filter><And><PropertyIsEqualTo><PropertyName>status</PropertyName><Literal>1</Literal></PropertyIsEqualTo><BBOX><PropertyName>geometrie</PropertyName><gml:Envelope srsName=\"{srsName}\"><lowerCorner>{west} {south}</lowerCorner><upperCorner>{east} {north}</upperCorner></gml:Envelope></BBOX></And></Filter>`) |                                                                        |
| **language**                           | An object containing the language labels displayed to the visitor in the `AssetSelect` component. The different properties are listed next.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |                                                                        |
| **language.title**                     | The title on top of the panel                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  | Kies het object                                                        |
| **language.unregistered**              | Checkbox to select in case the visitor cannot find the object on the map                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       | Het object staat niet op de kaart                                      |
| **language.unregisteredId**            | Text field for the visitor to write the ID of the object                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       | Wat is het nummer van het object?                                      |
| **language.submitSingular**            | Submit button, in case one object has been selected                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            | Meld dit object                                                        |
| **language.submitPlural**              | Submit button, in case more than one object has been selected                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  | Meld deze objecten                                                     |
| **featureTypes**                       | An array of the different types of assets that can be retrieved from the endpoint. Each feature type is an object with the possible properties listed next.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
| **featureType.label**                  | The label shown in the legend                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  |
| **featureType.description**            | The label shown for a selected asset. In the list next to the map, and in the list on the summary page of the incident wizard                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  |
| **featureType.idField**                | The property name of an asset, as retrieved from the endpoint, that identifies the asset                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       |
| **featureType.typeField**              | The property name of an asset, as retrieved from the endpoint, that identifies the type of the asset                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
| **featureType.typeValue**              | The value the `typeField` property should have to make an asset belong to this type                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            |
| **featureType.icon**                   | An object with configuration for the icon to show with this type of asset. The possible properties are shown next.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             |
| **featureType.icon.iconSvg**           | The source of an SVG image                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     | !(Default asset icon)[default-asset-select-icon.svg]                   |
| **featureType.icon.selectedIconSvg**   | The source of an SVG image                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     | !(Default selected asset icon)[default-asset-select-selected-icon.svg] |
| **featureType.icon.options.className** |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                | `object-marker`                                                        |
| **featureType.icon.options.iconSize**  | The dimensions in which the icon should be displayed                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           | `[40, 40]`                                                             |

#### Asset not on map

There is one extra feature type that does not come from the endpoint. This is to configure the case when a visitor enters an asset that is not displayed on the map. This field type is marked by setting the `typeValue` property to `not_on_map`. See an example configuration below.

| Property         | Vaule                                                                |
| ---------------- | -------------------------------------------------------------------- |
| **description**  | Het object staat niet op de kaart                                    |
| **typeValue**    | `not_on_map`                                                         |
| **icon.iconSvg** | !(Default unknown asset icon)[default-asset-select-unknown-icon.svg] |
